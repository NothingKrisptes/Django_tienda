{% extends 'tienda/base.html' %}

{% block content %}
<div style="max-width: 700px; margin: 40px auto; background: #fff; padding: 40px; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); border-top: 5px solid var(--acento);">
    
    <h2 style="text-align: center; color: var(--secundario); margin-bottom: 10px; font-family: 'Playfair Display', serif;">
        Nuevo Vinilo
    </h2>
    <p style="text-align: center; color: #666; margin-bottom: 30px;">
        Ingresa los detalles para el catálogo digital.
    </p>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- GRUPO 1: DATOS PRINCIPALES -->
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <label class="label-form">{{ form.tituloDisco.label }}</label>
                {{ form.tituloDisco }}
            </div>
            <div>
                <label class="label-form">{{ form.artistaPrincipal.label }}</label>
                {{ form.artistaPrincipal }}
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 15px;">
            <div>
                <label class="label-form">{{ form.precioUnitario.label }}</label>
                {{ form.precioUnitario }}
            </div>
            <div>
                <label class="label-form">{{ form.stockDisponible.label }}</label>
                {{ form.stockDisponible }}
            </div>
            <div>
                <label class="label-form">{{ form.categoria.label }}</label>
                {{ form.categoria }}
                 <datalist id="lista-generos">
                    <option value="Rock Clásico">
                    <option value="Jazz">
                    <option value="Blues">
                    <option value="Pop">
                    <option value="Salsa">
                    <option value="Heavy Metal">
                    <option value="Reggae">
                    <option value="Hip Hop">
                    <option value="Clásica">
                    <option value="Electrónica">
                    <option value="Indie">
                    <option value="Folk">
                    <option value="Soul">
                    <option value="Pasillo Ecuatoriano">
                    <option value="Bolero">
                </datalist>
            </div>
        </div>

        <!-- GRUPO 2: IMÁGENES (ESTÉTICO) -->
        <div style="margin-top: 25px; padding: 20px; background: #fafafa; border-radius: 6px; border: 1px dashed #ccc;">
            <label class="label-form" style="margin-bottom: 15px; display: block;">Imagen de Portada (Elige una opción)</label>
            
            <div style="display: flex; gap: 20px; align-items: center;">
                <div style="flex: 1;">
                    {{ form.imagenPortada }}
                    <small style="display: block; color: #999; margin-top: 5px;">Subir desde PC</small>
                </div>
                <div style="color: #ccc; font-weight: bold;">O</div>
                <div style="flex: 1;">
                    {{ form.imagenUrl }}
                    <small style="display: block; color: #999; margin-top: 5px;">Pegar enlace web</small>
                </div>
            </div>
        </div>

        <!-- GRUPO 3: CHECKBOXES EN FILA -->
        <div style="margin-top: 25px; display: flex; gap: 40px; padding: 15px; background: #fdfdfd; border: 1px solid #eee; border-radius: 4px;">
            <div style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                {{ form.esNuevo }}
                <label for="{{ form.esNuevo.id_for_label }}" style="cursor: pointer; font-weight: bold; color: var(--secundario);">
                    {{ form.esNuevo.label }}
                </label>
            </div>

            <div style="display: flex; align-items: center; gap: 10px; cursor: pointer;">
                {{ form.aceptaDevolucion }}
                <label for="{{ form.aceptaDevolucion.id_for_label }}" style="cursor: pointer; font-weight: bold; color: var(--secundario);">
                    {{ form.aceptaDevolucion.label }}
                </label>
            </div>
        </div>

        <!-- BOTONES -->
        <div style="display: flex; gap: 15px; margin-top: 40px;">
            <a href="{% url 'catalogo' %}" class="btn" style="background: white; border: 1px solid #ccc; color: #666; flex: 1; text-align: center;">
                CANCELAR
            </a>
            <button type="submit" class="btn" style="flex: 2; font-size: 1rem; padding: 12px;">
                GUARDAR PRODUCTO
            </button>
        </div>
    </form>
</div>

<!-- ESTILOS LOCALES PARA ESTA PÁGINA -->
<style>
    .label-form {
        font-weight: bold; 
        display: block; 
        margin-bottom: 5px; 
        color: var(--secundario); 
        font-size: 0.9rem;
    }
    input[type="checkbox"] {
        width: 20px;
        height: 20px;
        accent-color: var(--acento); /* Color naranja al marcar */
    }
</style>
{% endblock %}
